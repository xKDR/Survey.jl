<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · Survey.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://xKDR.github.io/Survey.jl/getting_started/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Survey.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Instalation"><span>Instalation</span></a></li><li><a class="tocitem" href="#Tutorial"><span>Tutorial</span></a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../man/dataframes/">DataFrames in Survey</a></li><li><a class="tocitem" href="../man/replicate/">Replicate weights</a></li><li><a class="tocitem" href="../man/plotting/">Plotting</a></li><li><a class="tocitem" href="../man/comparisons/">Comparison with other survey analysis tools</a></li></ul></li><li><a class="tocitem" href="../api/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/xKDR/Survey.jl/blob/main/docs/src/getting_started.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Instalation"><a class="docs-heading-anchor" href="#Instalation">Instalation</a><a id="Instalation-1"></a><a class="docs-heading-anchor-permalink" href="#Instalation" title="Permalink"></a></h2><p>The <code>Survey.jl</code> package is not yet registered. For now, installation of the package is done using the following command:</p><pre><code class="language-julia hljs">]  add &quot;https://github.com/xKDR/Survey.jl.git&quot;</code></pre><p>After registration, the regular <code>Pkg</code> commands can be used for installing the package:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Pkg</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Pkg.add(&quot;Survey&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">    Updating registry at `~/.julia/registries/General.toml`
   Resolving package versions...
ERROR: expected package `Survey [c1a98b4d]` to be registered</code></pre><pre><code class="language-julia hljs">]  add Survey</code></pre><h2 id="Tutorial"><a class="docs-heading-anchor" href="#Tutorial">Tutorial</a><a id="Tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial" title="Permalink"></a></h2><p>This tutorial assumes basic knowledge of statistics and survey analysis.</p><p>To begin this tutorial, load the package in your workspace:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Survey</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Now load a survey dataset that you want to study. In this tutorial we will be using the <a href="https://r-survey.r-forge.r-project.org/survey/html/api.html">Academic Performance Index</a> (API) datasets for Californian schools. The datasets contain information for all schools with at least 100 students and for various probability samples of the data.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The API program has been discontinued at the end of 2018. Information is archived <a href="https://www.cde.ca.gov/re/pr/api.asp">here</a>.</p></div></div><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; apisrs = load_data(&quot;apisrs&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">200×40 DataFrame
 Row │ Column1  cds             stype    name             sname                ⋯
     │ Int64    Int64           String1  String15         String               ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │    1039  15739081534155  H        McFarland High   McFarland High       ⋯
   2 │    1124  19642126066716  E        Stowers (Cecil   Stowers (Cecil B.) E
   3 │    2868  30664493030640  H        Brea-Olinda Hig  Brea-Olinda High
   4 │    1273  19644516012744  E        Alameda Element  Alameda Elementary
   5 │    4926  40688096043293  E        Sunnyside Eleme  Sunnyside Elementary ⋯
   6 │    2463  19734456014278  E        Los Molinos Ele  Los Molinos Elementa
   7 │    2031  19647336058200  M        Northridge Midd  Northridge Middle
   8 │    1736  19647336017271  E        Glassell Park E  Glassell Park Elemen
  ⋮  │    ⋮           ⋮            ⋮            ⋮                       ⋮      ⋱
 194 │    4880  39686766042782  E        Tyler Skills El  Tyler Skills Element ⋯
 195 │     993  15636851531987  H        Desert Junior/S  Desert Junior/Senior
 196 │     969  15635291534775  H        North High       North High
 197 │    1752  19647336017446  E        Hammel Street E  Hammel Street Elemen
 198 │    4480  37683386039143  E        Audubon Element  Audubon Elementary   ⋯
 199 │    4062  36678196036222  E        Edison Elementa  Edison Elementary
 200 │    2683  24657716025621  E        Franklin Elemen  Franklin Elementary
                                                 36 columns and 185 rows omitted</code></pre><p><code>apisrs</code> is a simple random sample of the Academic Performance Index of Californian schools. The <a href="../api/#Survey.load_data"><code>load_data</code></a> function loads it as a <a href="https://dataframes.juliadata.org/stable/lib/types/#DataFrames.DataFrame"><code>DataFrame</code></a>. You can look at the column names of <code>apisrs</code> to get an idea of what the dataset contains.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; names(apisrs)</code><code class="nohighlight hljs ansi" style="display:block;">40-element Vector{String}:
 &quot;Column1&quot;
 &quot;cds&quot;
 &quot;stype&quot;
 &quot;name&quot;
 &quot;sname&quot;
 &quot;snum&quot;
 &quot;dname&quot;
 &quot;dnum&quot;
 &quot;cname&quot;
 &quot;cnum&quot;
 ⋮
 &quot;col.grad&quot;
 &quot;grad.sch&quot;
 &quot;avg.ed&quot;
 &quot;full&quot;
 &quot;emer&quot;
 &quot;enroll&quot;
 &quot;api.stu&quot;
 &quot;pw&quot;
 &quot;fpc&quot;</code></pre><p>Next, build a survey design from your <code>DataFrame</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; srs = SurveyDesign(apisrs; weights=:pw)</code><code class="nohighlight hljs ansi" style="display:block;">SurveyDesign:
data: 200×45 DataFrame
strata: none
cluster: none
popsize: [6194.0, 6194.0, 6194.0  …  6194.0]
sampsize: [200, 200, 200  …  200]
weights: [30.97, 30.97, 30.97  …  30.97]
allprobs: [0.0323, 0.0323, 0.0323  …  0.0323]</code></pre><p>This is a simple random sample design with weights given by the column <code>:pw</code> of <code>apisrs</code>. You can also create more complex designs such as stratified or cluster sample designs. You can find more information on the complete capabilities of the package in the <a href="../man/dataframes/#manual">Manual</a>. The purpose of this tutorial is to show the basic usage of the package. For that, we will stick with a simple random sample.</p><p>Now you can analyse your design according to your needs using the <a href="../api/#Index">functionality</a> provided by the package. For example, you can compute the estimated mean or population total for a given variable. Let&#39;s say you want to find the mean Academic Performance Index from the year 1999. If you are only interested in the estimated mean, then you can directly pass your design to the <a href="../api/#Statistics.mean"><code>mean</code></a> function:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; mean(:api99, srs)</code><code class="nohighlight hljs ansi" style="display:block;">1×1 DataFrame
 Row │ mean
     │ Float64
─────┼─────────
   1 │ 624.685</code></pre><p>If you also want to know the standard error of the mean, you need to convert the <a href="../api/#Survey.SurveyDesign"><code>SurveyDesign</code></a> to a <a href="../api/#Survey.ReplicateDesign"><code>ReplicateDesign</code></a> using bootstrapping:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; bsrs = bootweights(srs; replicates = 1000)</code><code class="nohighlight hljs ansi" style="display:block;">ReplicateDesign:
data: 200×1045 DataFrame
strata: none
cluster: none
popsize: [6194.0, 6194.0, 6194.0  …  6194.0]
sampsize: [200, 200, 200  …  200]
weights: [30.97, 30.97, 30.97  …  30.97]
allprobs: [0.0323, 0.0323, 0.0323  …  0.0323]
replicates: 1000</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; mean(:api99, bsrs)</code><code class="nohighlight hljs ansi" style="display:block;">1×2 DataFrame
 Row │ mean     SE
     │ Float64  Float64
─────┼──────────────────
   1 │ 624.685  9.84669</code></pre><p>You can find the mean of both the 1999 API and 2000 API for a clear comparison between students&#39; performance from one year to another:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; mean([:api99, :api00], bsrs)</code><code class="nohighlight hljs ansi" style="display:block;">2×3 DataFrame
 Row │ names   mean     SE
     │ String  Float64  Float64
─────┼──────────────────────────
   1 │ api99   624.685  9.84669
   2 │ api00   656.585  9.5409</code></pre><p>The <a href="../api/#Survey.ratio"><code>ratio</code></a> is also appropriate for studying the relationship between the two APIs:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ratio(:api00, :api99, bsrs)</code><code class="nohighlight hljs ansi" style="display:block;">1×2 DataFrame
 Row │ ratio    SE
     │ Float64  Float64
─────┼─────────────────────
   1 │ 1.05107  0.00371922</code></pre><p>If you&#39;re interested in a certain statistic estimated by a specific domain, you can add the domain as the second parameter to your function. Let&#39;s say you want to find the estimated total number of students enrolled in schools from each county:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; total(:enroll, :cname, bsrs)</code><code class="nohighlight hljs ansi" style="display:block;">38×3 DataFrame
 Row │ cname            total           SE
     │ String15         Float64         Float64
─────┼────────────────────────────────────────────────
   1 │ Kern                  1.95823e5  74731.2
   2 │ Los Angeles      867129.0            1.36622e5
   3 │ Orange                1.68786e5  63858.0
   4 │ San Luis Obispo    6720.49        6790.49
   5 │ San Francisco     30319.6        18197.6
   6 │ Modoc              6503.7         6481.36
   7 │ Alameda          134224.0        46808.0
   8 │ Solano            64479.5        39542.0
  ⋮  │        ⋮               ⋮               ⋮
  32 │ Kings             32642.4        23541.9
  33 │ Shasta            36203.9        32062.1
  34 │ Yolo              12171.2        12502.9
  35 │ Calaveras         12976.4        13241.6
  36 │ Napa              39239.0        30181.9
  37 │ Lake               6410.79        6986.29
  38 │ Merced            15392.1        15202.2
                                       23 rows omitted</code></pre><p>Another way to visualize data is through graphs. You can make a histogram to better see the distribution of enrolled students:</p><pre><code class="language-julia hljs">julia&gt; hist(srs, :enroll)</code></pre><p>The REPL doesn&#39;t show the plot. To see it, you need to save it locally.</p><pre><code class="language-julia hljs">julia&gt; import AlgebraOfGraphics.save

julia&gt; save(&quot;hist.png&quot;, h)</code></pre><p><img src="../assets/hist.png" alt/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../man/dataframes/">DataFrames in Survey »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 1 February 2023 05:18">Wednesday 1 February 2023</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
